{% extends "base.html" %}
{% load static %}

{% block title %}Panel del Usuario - Llamkay{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/jobs/dashboard_trabajador.css' %}" />
{% endblock %}

{% block content %}
<!-- Header Superior -->
<div class="header">
  <div class="header-left">
    <div class="header-profile">
      <img src="{% static 'images/user.png' %}" alt="Avatar" class="header-avatar" />
      <span>{{ user.first_name|default:"Usuario" }}</span>
    </div>
  </div>
  <div class="header-center">
    <div class="logo">Llamkay</div>
  </div>
  <div class="header-right">
    <span class="menu-toggle" id="menuToggle">☰</span>
  </div>
</div>

<div class="dashboard">
  <!-- Sidebar -->
  <div class="sidebar" id="sidebar">
    <div class="nav">
      <a href="{% url 'llamkay:dashboard' %}"
         class="nav-item {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}">
        <span class="icon">🏠</span> <span>Inicio</span>
      </a>
      <a href="#" id="btn-guardados"
         class="nav-item trabajos-guardados-active">
        <span class="icon">📖</span> <span>Trabajos Guardados</span>
      </a>
      <a href="#" class="nav-item">
        <span class="icon">📋</span> <span>Postulaciones</span>
      </a>
      <a href="#" class="nav-item">
        <span class="icon">🗓️</span> <span>Calendario</span>
      </a>
      <a href="{% url 'chats:lista_chats' %}"
         class="nav-item {% if request.resolver_match.url_name == 'lista_chats' %}active{% endif %}">
        <span class="icon">✉️</span> <span>Mensajes</span>
      </a>
    </div>
  </div>

  <!-- Overlay para móvil -->
  <div class="menu-overlay" id="menuOverlay"></div>

  <!-- Contenido dinámico -->
  <div class="contenido" id="contenido-dashboard">
    <div class="main-content">
      <div class="loader">Cargando trabajos guardados...</div>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_js %}
<!-- jQuery y Scripts -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
  const urlTrabajosGuardados = "{% url 'jobs:trabajos_guardados_ajax' %}";
</script>
<script src="{% static 'js/jobs/dashboard_trabajador.js' %}"></script>
{% endblock %}