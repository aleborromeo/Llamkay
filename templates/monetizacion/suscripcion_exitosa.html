<!-- ============================================
     TEMPLATES/SOPORTE/SUSCRIPCION_EXITOSA.HTML
     ============================================ -->

{% extends "monetizacion/base.html" %}
{% load static %}
{% block title %}Â¡SuscripciÃ³n Exitosa! - Llamkasy{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/monetizacion/suscripcion_exitosa.css' %}">
{% endblock %}

{% block content %}
<div class="exito-container">
    <!-- Header -->
    <div class="exito-header">
        <div class="exito-icono">âœ…</div>
        <h1 class="exito-titulo">Â¡SuscripciÃ³n Exitosa!</h1>
        <p class="exito-subtitulo">Bienvenido a Llamkasy, tu acceso a mejores oportunidades comienza ahora</p>
    </div>
    
    <!-- Plan Destacado -->
    {% if suscripcion %}
    <div class="plan-destacado">
        <div class="plan-nombre">ğŸ“¦ {{ suscripcion.plan.name }}</div>
        <div class="detalles-grid">
            <div class="detalle-item">
                <div class="detalle-label">Fecha de inicio</div>
                <div class="detalle-valor">{{ suscripcion.start_date|date:"d/m/Y" }}</div>
            </div>
            <div class="detalle-item">
                <div class="detalle-label">Fecha de vencimiento</div>
                <div class="detalle-valor">{{ suscripcion.end_date|date:"d/m/Y" }}</div>
            </div>
            <div class="detalle-item">
                <div class="detalle-label">DuraciÃ³n</div>
                <div class="detalle-valor">{{ suscripcion.plan.duration_days }} dÃ­as</div>
            </div>
            <div class="detalle-item">
                <div class="detalle-label">Estado</div>
                <div class="detalle-valor" style="color: #10b981;">Activo âœ“</div>
            </div>
        </div>
    </div>
    
    <!-- Contador Regresivo -->
    <div class="contador-regresivo">
        <div class="contador-titulo">â±ï¸ Tu suscripciÃ³n vence en:</div>
        <div class="contador-valor" id="contador">{{ dias_restantes }} dÃ­as</div>
    </div>
    
    <!-- Beneficios -->
    <div class="beneficios-card">
        <div class="beneficios-titulo">Tus Beneficios Incluidos</div>
        <ul class="beneficios-lista">
            {% if suscripcion.plan.plan_type == 'free' %}
                <li>
                    <div class="beneficio-icono">ğŸ“®</div>
                    <div class="beneficio-contenido">
                        <div class="beneficio-nombre">4 Postulaciones por DÃ­a</div>
                        <div class="beneficio-desc">Acceso limitado pero suficiente para empezar</div>
                    </div>
                </li>
                <li>
                    <div class="beneficio-icono">âœï¸</div>
                    <div class="beneficio-contenido">
                        <div class="beneficio-nombre">Editar Perfil Completo</div>
                        <div class="beneficio-desc">Personaliza tu perfil con toda la informaciÃ³n</div>
                    </div>
                </li>
                <li>
                    <div class="beneficio-icono">ğŸ™ï¸</div>
                    <div class="beneficio-contenido">
                        <div class="beneficio-nombre">Trabajos en tu Ciudad</div>
                        <div class="beneficio-desc">Acceso a ofertas laborales locales</div>
                    </div>
                </li>
                <li>
                    <div class="beneficio-icono">ğŸ“§</div>
                    <div class="beneficio-contenido">
                        <div class="beneficio-nombre">Soporte por Email</div>
                        <div class="beneficio-desc">Asistencia cuando la necesites</div>
                    </div>
                </li>
            {% elif suscripcion.plan.plan_type == 'premium' %}
                <li>
                    <div class="beneficio-icono">â™¾ï¸</div>
                    <div class="beneficio-contenido">
                        <div class="beneficio-nombre">Postulaciones Ilimitadas</div>
                        <div class="beneficio-desc">Aplica a todos los trabajos que desees 24/7</div>
                    </div>
                </li>
                <li>
                    <div class="beneficio-icono">ğŸŒ</div>
                    <div class="beneficio-contenido">
                        <div class="beneficio-nombre">Cualquier Ciudad</div>
                        <div class="beneficio-desc">Acceso a trabajos en toda la regiÃ³n</div>
                    </div>
                </li>
                <li>
                    <div class="beneficio-icono">ğŸ”</div>
                    <div class="beneficio-contenido">
                        <div class="beneficio-nombre">Filtros Avanzados</div>
                        <div class="beneficio-desc">BÃºsqueda personalizada de oportunidades</div>
                    </div>
                </li>
                <li>
                    <div class="beneficio-icono">â­</div>
                    <div class="beneficio-contenido">
                        <div class="beneficio-nombre">Perfil Destacado</div>
                        <div class="beneficio-desc">Tu perfil serÃ¡ visible para reclutadores</div>
                    </div>
                </li>
                <li>
                    <div class="beneficio-icono">ğŸš€</div>
                    <div class="beneficio-contenido">
                        <div class="beneficio-nombre">Soporte Prioritario</div>
                        <div class="beneficio-desc">AtenciÃ³n rÃ¡pida a tus consultas</div>
                    </div>
                </li>
            {% elif suscripcion.plan.plan_type == 'empresa' %}
                <li>
                    <div class="beneficio-icono">ğŸ“</div>
                    <div class="beneficio-contenido">
                        <div class="beneficio-nombre">Crear Trabajos Ilimitados</div>
                        <div class="beneficio-desc">Publica todas las vacantes que necesites</div>
                    </div>
                </li>
                <li>
                    <div class="beneficio-icono">ğŸ‘¥</div>
                    <div class="beneficio-contenido">
                        <div class="beneficio-nombre">GestiÃ³n de Candidatos</div>
                        <div class="beneficio-desc">Administra tu pipeline de selecciÃ³n</div>
                    </div>
                </li>
                <li>
                    <div class="beneficio-icono">ğŸ“Š</div>
                    <div class="beneficio-contenido">
                        <div class="beneficio-nombre">Analytics Detallado</div>
                        <div class="beneficio-desc">Reportes y mÃ©tricas de tus publicaciones</div>
                    </div>
                </li>
                <li>
                    <div class="beneficio-icono">ğŸ¯</div>
                    <div class="beneficio-contenido">
                        <div class="beneficio-nombre">Soporte Dedicado 24/7</div>
                        <div class="beneficio-desc">Equipo especializado para tu empresa</div>
                    </div>
                </li>
                <li>
                    <div class="beneficio-icono">âœ¨</div>
                    <div class="beneficio-contenido">
                        <div class="beneficio-nombre">Publicaciones Destacadas</div>
                        <div class="beneficio-desc">Mayor visibilidad de tus ofertas de trabajo</div>
                    </div>
                </li>
            {% endif %}
        </ul>
    </div>
    
    <!-- Info Importante -->
    <div class="info-importante">
        <div class="info-titulo">
            <span>ğŸ’¡</span>
            InformaciÃ³n Importante
        </div>
        <div class="info-contenido">
            {% if suscripcion.plan.plan_type == 'free' %}
                Tu suscripciÃ³n gratis incluye acceso limitado a Llamkasy. Puedes mejorar a Premium o Empresa en cualquier momento para desbloquear todas las funcionalidades.
            {% elif suscripcion.plan.plan_type == 'premium' %}
                Tu suscripciÃ³n se renovarÃ¡ automÃ¡ticamente en {{ suscripcion.end_date|date:"d/m/Y" }}. Puedes cancelarla en cualquier momento desde tu panel de control.
            {% elif suscripcion.plan.plan_type == 'empresa' %}
                Gracias por confiar en Llamkasy. Nuestro equipo estÃ¡ disponible para ayudarte con la integraciÃ³n. Contacta a soporte@llamkasy.com
            {% endif %}
        </div>
    </div>
    
    <!-- PrÃ³ximos Pasos -->
    <div class="next-steps">
        <div class="next-steps-titulo">PrÃ³ximos Pasos</div>
        <div class="pasos">
            <div class="paso">
                <div class="paso-numero">1</div>
                <div class="paso-contenido">
                    <div class="paso-titulo">Completa tu Perfil</div>
                    <div class="paso-desc">Agrega tu experiencia, habilidades y foto para aumentar tus posibilidades</div>
                </div>
            </div>
            <div class="paso">
                <div class="paso-numero">2</div>
                <div class="paso-contenido">
                    <div class="paso-titulo">Explora Oportunidades</div>
                    <div class="paso-desc">Busca trabajos que coincidan con tu perfil y experiencia</div>
                </div>
            </div>
            <div class="paso">
                <div class="paso-numero">3</div>
                <div class="paso-contenido">
                    <div class="paso-titulo">EnvÃ­a Postulaciones</div>
                    <div class="paso-desc">Aplica a los trabajos que te interesen y espera respuestas</div>
                </div>
            </div>
            <div class="paso">
                <div class="paso-numero">4</div>
                <div class="paso-contenido">
                    <div class="paso-titulo">Conecta con Empresas</div>
                    <div class="paso-desc">ComunÃ­cate directamente con reclutadores interesados</div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Acceso RÃ¡pido -->
    <div class="acceso-rapido-container">
        <h3 class="acceso-titulo">Acceso RÃ¡pido</h3>
        <div class="acceso-rapido">
            <a href="/" class="acceso-card">
                <div class="acceso-icono">ğŸ </div>
                <div class="acceso-nombre">Inicio</div>
            </a>
            <a href="/jobs/" class="acceso-card">
                <div class="acceso-icono">ğŸ’¼</div>
                <div class="acceso-nombre">Trabajos</div>
            </a>
            <a href="/users/profile/" class="acceso-card">
                <div class="acceso-icono">ğŸ‘¤</div>
                <div class="acceso-nombre">Mi Perfil</div>
            </a>
            <a href="/soporte/mi-suscripcion/" class="acceso-card">
                <div class="acceso-icono">ğŸ“‹</div>
                <div class="acceso-nombre">SuscripciÃ³n</div>
            </a>
        </div>
    </div>
    
    <!-- Acciones -->
    <div class="acciones-container">
        <a href="/" class="btn-accion btn-primario">
            <span>ğŸš€</span> Ir al Inicio
        </a>
        <a href="/jobs/" class="btn-accion btn-secundario">
            <span>ğŸ’¼</span> Ver Trabajos
        </a>
    </div>
    
    <!-- FAQ -->
    <div class="faq-section">
        <div class="faq-titulo">â“ Preguntas Frecuentes</div>
        
        <div class="faq-item">
            <div class="faq-pregunta" onclick="toggleFaq(this)">
                Â¿CÃ³mo cancelo mi suscripciÃ³n?
                <span class="faq-icono">â–¼</span>
            </div>
            <div class="faq-respuesta">
                Puedes cancelar tu suscripciÃ³n en cualquier momento desde tu panel de suscripciÃ³n. Tu acceso continuarÃ¡ hasta el final del perÃ­odo de facturaciÃ³n.
            </div>
        </div>
        
        <div class="faq-item">
            <div class="faq-pregunta" onclick="toggleFaq(this)">
                Â¿Puedo cambiar de plan?
                <span class="faq-icono">â–¼</span>
            </div>
            <div class="faq-respuesta">
                SÃ­, puedes cambiar a un plan superior en cualquier momento. Se ajustarÃ¡ el monto a pagar segÃºn el tiempo restante de tu suscripciÃ³n actual.
            </div>
        </div>
        
        <div class="faq-item">
            <div class="faq-pregunta" onclick="toggleFaq(this)">
                Â¿Hay garantÃ­a de reembolso?
                <span class="faq-icono">â–¼</span>
            </div>
            <div class="faq-respuesta">
                Contamos con una garantÃ­a de 7 dÃ­as para reembolso completo. Si no estÃ¡s satisfecho, contacta a nuestro soporte.
            </div>
        </div>
        
        <div class="faq-item">
            <div class="faq-pregunta" onclick="toggleFaq(this)">
                Â¿CÃ³mo obtengo soporte tÃ©cnico?
                <span class="faq-icono">â–¼</span>
            </div>
            <div class="faq-respuesta">
                Puedes contactar a nuestro equipo de soporte a travÃ©s de email: soporte@llamkasy.com o desde el chat en vivo de la plataforma.
            </div>
        </div>
    </div>
    
    <!-- Descuento Banner -->
    <div class="descuento-banner">
        <div class="descuento-texto">ğŸ‰ Â¡Bienvenida Oferta!</div>
        <div class="descuento-oferta">Referencia a un amigo y obtÃ©n 15% de descuento en tu prÃ³xima renovaciÃ³n</div>
    </div>
    
    {% else %}
    <div class="error-container">
        <p>No hay informaciÃ³n de suscripciÃ³n disponible. <a href="{% url 'soporte:planes_list' %}">Vuelve a intentarlo</a></p>
    </div>
    {% endif %}
</div>

<script>
    // Toggle FAQ
    function toggleFaq(element) {
        const respuesta = element.nextElementSibling;
        const icono = element.querySelector('.faq-icono');
        
        // Cerrar otros FAQs abiertos
        document.querySelectorAll('.faq-respuesta.active').forEach(resp => {
            if (resp !== respuesta) {
                resp.classList.remove('active');
                resp.previousElementSibling.querySelector('.faq-icono').classList.remove('active');
            }
        });
        
        // Toggle actual
        respuesta.classList.toggle('active');
        icono.classList.toggle('active');
    }
    
    // Animar contador
    document.addEventListener('DOMContentLoaded', function() {
        const contador = document.getElementById('contador');
        if (contador) {
            const diasText = contador.textContent;
            const dias = parseInt(diasText);
            
            // Cambiar color segÃºn dÃ­as restantes
            if (dias <= 3) {
                contador.style.color = '#dc2626';
            } else if (dias <= 7) {
                contador.style.color = '#f59e0b';
            } else {
                contador.style.color = '#10b981';
            }
        }
    });
</script>
{% endblock %}