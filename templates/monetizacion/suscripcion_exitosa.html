<!-- ============================================
     TEMPLATES/SOPORTE/SUSCRIPCION_EXITOSA.HTML
     ============================================ -->

{% extends "monetizacion/base.html" %}
{% load static %}
{% block title %}¬°Suscripci√≥n Exitosa! - Llamkasy{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/monetizacion/suscripcion_exitosa.css' %}">
{% endblock %}

{% block content %}
<div class="exito-container">
    <!-- Header -->
    <div class="exito-header">
        <div class="exito-icono">‚úÖ</div>
        <h1 class="exito-titulo">¬°Suscripci√≥n Exitosa!</h1>
        <p class="exito-subtitulo">Bienvenido a Llamkasy, tu acceso a mejores oportunidades comienza ahora</p>
    </div>
    
    <!-- Plan Destacado -->
    {% if suscripcion %}
    <div class="plan-destacado">
        <div class="plan-nombre">üì¶ {{ suscripcion.plan.name }}</div>
        <div class="detalles-grid">
            <div class="detalle-item">
                <div class="detalle-label">Fecha de inicio</div>
                <div class="detalle-valor">{{ suscripcion.start_date|date:"d/m/Y" }}</div>
            </div>
            <div class="detalle-item">
                <div class="detalle-label">Fecha de vencimiento</div>
                <div class="detalle-valor">{{ suscripcion.end_date|date:"d/m/Y" }}</div>
            </div>
            <div class="detalle-item">
                <div class="detalle-label">Duraci√≥n</div>
                <div class="detalle-valor">{{ suscripcion.plan.duration_days }} d√≠as</div>
            </div>
            <div class="detalle-item">
                <div class="detalle-label">Estado</div>
                <div class="detalle-valor" style="color: #10b981;">Activo ‚úì</div>
            </div>
        </div>
    </div>
    
    <!-- Contador Regresivo -->
    <div class="contador-regresivo">
        <div class="contador-titulo">‚è±Ô∏è Tu suscripci√≥n vence en:</div>
        <div class="contador-valor" id="contador">{{ dias_restantes }} d√≠as</div>
    </div>
    
    <!-- Beneficios -->
    <div class="beneficios-card">
        <div class="beneficios-titulo">Tus Beneficios Incluidos</div>
        <ul class="beneficios-lista">
            {% if suscripcion.plan.plan_type == 'free' %}
                <li>
                    <div class="beneficio-icono">üìÆ</div>
                    <div class="beneficio-contenido">
                        <div class="beneficio-nombre">4 Postulaciones por D√≠a</div>
                        <div class="beneficio-desc">Acceso limitado pero suficiente para empezar</div>
                    </div>
                </li>
                <li>
                    <div class="beneficio-icono">‚úèÔ∏è</div>
                    <div class="beneficio-contenido">
                        <div class="beneficio-nombre">Editar Perfil Completo</div>
                        <div class="beneficio-desc">Personaliza tu perfil con toda la informaci√≥n</div>
                    </div>
                </li>
                <li>
                    <div class="beneficio-icono">üèôÔ∏è</div>
                    <div class="beneficio-contenido">
                        <div class="beneficio-nombre">Trabajos en tu Ciudad</div>
                        <div class="beneficio-desc">Acceso a ofertas laborales locales</div>
                    </div>
                </li>
                <li>
                    <div class="beneficio-icono">üìß</div>
                    <div class="beneficio-contenido">
                        <div class="beneficio-nombre">Soporte por Email</div>
                        <div class="beneficio-desc">Asistencia cuando la necesites</div>
                    </div>
                </li>
            {% elif suscripcion.plan.plan_type == 'premium' %}
                <li>
                    <div class="beneficio-icono">‚ôæÔ∏è</div>
                    <div class="beneficio-contenido">
                        <div class="beneficio-nombre">Postulaciones Ilimitadas</div>
                        <div class="beneficio-desc">Aplica a todos los trabajos que desees 24/7</div>
                    </div>
                </li>
                <li>
                    <div class="beneficio-icono">üåç</div>
                    <div class="beneficio-contenido">
                        <div class="beneficio-nombre">Cualquier Ciudad</div>
                        <div class="beneficio-desc">Acceso a trabajos en toda la regi√≥n</div>
                    </div>
                </li>
                <li>
                    <div class="beneficio-icono">üîç</div>
                    <div class="beneficio-contenido">
                        <div class="beneficio-nombre">Filtros Avanzados</div>
                        <div class="beneficio-desc">B√∫squeda personalizada de oportunidades</div>
                    </div>
                </li>
                <li>
                    <div class="beneficio-icono">‚≠ê</div>
                    <div class="beneficio-contenido">
                        <div class="beneficio-nombre">Perfil Destacado</div>
                        <div class="beneficio-desc">Tu perfil ser√° visible para reclutadores</div>
                    </div>
                </li>
                <li>
                    <div class="beneficio-icono">üöÄ</div>
                    <div class="beneficio-contenido">
                        <div class="beneficio-nombre">Soporte Prioritario</div>
                        <div class="beneficio-desc">Atenci√≥n r√°pida a tus consultas</div>
                    </div>
                </li>
            {% elif suscripcion.plan.plan_type == 'empresa' %}
                <li>
                    <div class="beneficio-icono">üìù</div>
                    <div class="beneficio-contenido">
                        <div class="beneficio-nombre">Crear Trabajos Ilimitados</div>
                        <div class="beneficio-desc">Publica todas las vacantes que necesites</div>
                    </div>
                </li>
                <li>
                    <div class="beneficio-icono">üë•</div>
                    <div class="beneficio-contenido">
                        <div class="beneficio-nombre">Gesti√≥n de Candidatos</div>
                        <div class="beneficio-desc">Administra tu pipeline de selecci√≥n</div>
                    </div>
                </li>
                <li>
                    <div class="beneficio-icono">üìä</div>
                    <div class="beneficio-contenido">
                        <div class="beneficio-nombre">Analytics Detallado</div>
                        <div class="beneficio-desc">Reportes y m√©tricas de tus publicaciones</div>
                    </div>
                </li>
                <li>
                    <div class="beneficio-icono">üéØ</div>
                    <div class="beneficio-contenido">
                        <div class="beneficio-nombre">Soporte Dedicado 24/7</div>
                        <div class="beneficio-desc">Equipo especializado para tu empresa</div>
                    </div>
                </li>
                <li>
                    <div class="beneficio-icono">‚ú®</div>
                    <div class="beneficio-contenido">
                        <div class="beneficio-nombre">Publicaciones Destacadas</div>
                        <div class="beneficio-desc">Mayor visibilidad de tus ofertas de trabajo</div>
                    </div>
                </li>
            {% endif %}
        </ul>
    </div>
    
    <!-- Info Importante -->
    <div class="info-importante">
        <div class="info-titulo">
            <span>üí°</span>
            Informaci√≥n Importante
        </div>
        <div class="info-contenido">
            {% if suscripcion.plan.plan_type == 'free' %}
                Tu suscripci√≥n gratis incluye acceso limitado a Llamkasy. Puedes mejorar a Premium o Empresa en cualquier momento para desbloquear todas las funcionalidades.
            {% elif suscripcion.plan.plan_type == 'premium' %}
                Tu suscripci√≥n se renovar√° autom√°ticamente en {{ suscripcion.end_date|date:"d/m/Y" }}. Puedes cancelarla en cualquier momento desde tu panel de control.
            {% elif suscripcion.plan.plan_type == 'empresa' %}
                Gracias por confiar en Llamkasy. Nuestro equipo est√° disponible para ayudarte con la integraci√≥n. Contacta a soporte@llamkasy.com
            {% endif %}
        </div>
    </div>
    
    <!-- Pr√≥ximos Pasos -->
    <div class="next-steps">
        <div class="next-steps-titulo">Pr√≥ximos Pasos</div>
        <div class="pasos">
            <div class="paso">
                <div class="paso-numero">1</div>
                <div class="paso-contenido">
                    <div class="paso-titulo">Completa tu Perfil</div>
                    <div class="paso-desc">Agrega tu experiencia, habilidades y foto para aumentar tus posibilidades</div>
                </div>
            </div>
            <div class="paso">
                <div class="paso-numero">2</div>
                <div class="paso-contenido">
                    <div class="paso-titulo">Explora Oportunidades</div>
                    <div class="paso-desc">Busca trabajos que coincidan con tu perfil y experiencia</div>
                </div>
            </div>
            <div class="paso">
                <div class="paso-numero">3</div>
                <div class="paso-contenido">
                    <div class="paso-titulo">Env√≠a Postulaciones</div>
                    <div class="paso-desc">Aplica a los trabajos que te interesen y espera respuestas</div>
                </div>
            </div>
            <div class="paso">
                <div class="paso-numero">4</div>
                <div class="paso-contenido">
                    <div class="paso-titulo">Conecta con Empresas</div>
                    <div class="paso-desc">Comun√≠cate directamente con reclutadores interesados</div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Acceso R√°pido -->
    <div class="acceso-rapido-container">
        <h3 class="acceso-titulo">Acceso R√°pido</h3>
        <div class="acceso-rapido">
            <a href="/" class="acceso-card">
                <div class="acceso-icono">üè†</div>
                <div class="acceso-nombre">Inicio</div>
            </a>
            <a href="/jobs/" class="acceso-card">
                <div class="acceso-icono">üíº</div>
                <div class="acceso-nombre">Trabajos</div>
            </a>
            <a href="/users/profile/" class="acceso-card">
                <div class="acceso-icono">üë§</div>
                <div class="acceso-nombre">Mi Perfil</div>
            </a>
            <a href="/soporte/mi-suscripcion/" class="acceso-card">
                <div class="acceso-icono">üìã</div>
                <div class="acceso-nombre">Suscripci√≥n</div>
            </a>
        </div>
    </div>
    
    <!-- Acciones -->
    <div class="acciones-container">
        <a href="/" class="btn-accion btn-primario">
            <span>üöÄ</span> Ir al Inicio
        </a>
        <a href="/jobs/" class="btn-accion btn-secundario">
            <span>üíº</span> Ver Trabajos
        </a>
    </div>
    
    <!-- FAQ -->
    <div class="faq-section">
        <div class="faq-titulo">‚ùì Preguntas Frecuentes</div>
        
        <div class="faq-item">
            <div class="faq-pregunta" onclick="toggleFaq(this)">
                ¬øC√≥mo cancelo mi suscripci√≥n?
                <span class="faq-icono">‚ñº</span>
            </div>
            <div class="faq-respuesta">
                Puedes cancelar tu suscripci√≥n en cualquier momento desde tu panel de suscripci√≥n. Tu acceso continuar√° hasta el final del per√≠odo de facturaci√≥n.
            </div>
        </div>
        
        <div class="faq-item">
            <div class="faq-pregunta" onclick="toggleFaq(this)">
                ¬øPuedo cambiar de plan?
                <span class="faq-icono">‚ñº</span>
            </div>
            <div class="faq-respuesta">
                S√≠, puedes cambiar a un plan superior en cualquier momento. Se ajustar√° el monto a pagar seg√∫n el tiempo restante de tu suscripci√≥n actual.
            </div>
        </div>
        
        <div class="faq-item">
            <div class="faq-pregunta" onclick="toggleFaq(this)">
                ¬øHay garant√≠a de reembolso?
                <span class="faq-icono">‚ñº</span>
            </div>
            <div class="faq-respuesta">
                Contamos con una garant√≠a de 7 d√≠as para reembolso completo. Si no est√°s satisfecho, contacta a nuestro soporte.
            </div>
        </div>
        
        <div class="faq-item">
            <div class="faq-pregunta" onclick="toggleFaq(this)">
                ¬øC√≥mo obtengo soporte t√©cnico?
                <span class="faq-icono">‚ñº</span>
            </div>
            <div class="faq-respuesta">
                Puedes contactar a nuestro equipo de soporte a trav√©s de email: soporte@llamkasy.com o desde el chat en vivo de la plataforma.
            </div>
        </div>
    </div>
    
    <!-- Descuento Banner -->
    <div class="descuento-banner">
        <div class="descuento-texto">üéâ ¬°Bienvenida Oferta!</div>
        <div class="descuento-oferta">Referencia a un amigo y obt√©n 15% de descuento en tu pr√≥xima renovaci√≥n</div>
    </div>
    
    {% else %}
    <div class="error-container">
        <p>No hay informaci√≥n de suscripci√≥n disponible. <a href="{% url 'soporte:planes_list' %}">Vuelve a intentarlo</a></p>
    </div>
    {% endif %}
</div>

<script>
    // Toggle FAQ
    function toggleFaq(element) {
        const respuesta = element.nextElementSibling;
        const icono = element.querySelector('.faq-icono');
        
        // Cerrar otros FAQs abiertos
        document.querySelectorAll('.faq-respuesta.active').forEach(resp => {
            if (resp !== respuesta) {
                resp.classList.remove('active');
                resp.previousElementSibling.querySelector('.faq-icono').classList.remove('active');
            }
        });
        
        // Toggle actual
        respuesta.classList.toggle('active');
        icono.classList.toggle('active');
    }
    
    // Animar contador
    document.addEventListener('DOMContentLoaded', function() {
        const contador = document.getElementById('contador');
        if (contador) {
            const diasText = contador.textContent;
            const dias = parseInt(diasText);
            
            // Cambiar color seg√∫n d√≠as restantes
            if (dias <= 3) {
                contador.style.color = '#dc2626';
            } else if (dias <= 7) {
                contador.style.color = '#f59e0b';
            } else {
                contador.style.color = '#10b981';
            }
        }
    });
</script>
{% endblock %}